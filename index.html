<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.2/css/all.min.css"
      integrity="sha512-1sCRPdkRXhBV2PBLUdRb4tMg1w2YPf37qatUFeS7zlBy7jJI8Lf4VHwWfZZfpXtYSLy85pkm9GaYVYMfw5BC1A=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />
    <link rel="stylesheet" href="styles.css" />
    <script src="./script.js" defer></script>
  </head>
  <body>
    <header>
      <span id="title" style="cursor: pointer"> FIGHT OF SHITPOSTS </span>
    </header>
    <main>
      <section id="arena">
        <div class="challenger">
          <img src="./images/wasted.png" alt="wasted" id="user-wasted" />
          <img
            src="./images/question.png"
            alt="user choice"
            id="user-fighter"
          />
          <p>User: <span id="user-score">0</span></p>
        </div>
        <div class="challenger">
          <img src="./images/wasted.png" alt="wasted" id="computer-wasted" />
          <img src="./images/question.png"" alt="computer choice"
          id="computer-fighter">
          <p>Computer: <span id="computer-score">0</span></p>
        </div>
        <div id="message-box"><p></p></div>
      </section>
      <section>
        <div class="text">Choose your fighter</div>
        <div class="fighters">
          <div class="fighter" onclick="playRound(0)">
            <img src="./images/sus-blue.png" alt="amongus blue" />
            <p>AmongSUS</p>
          </div>
          <div class="fighter" onclick="playRound(1)">
            <img src="./images/moai.png" alt="moai head" />
            <p>Almighty Moai</p>
          </div>
          <div class="fighter" onclick="playRound(2)">
            <img src="./images/chungus.png" alt="big chungus" />
            <p>Big Chungus</p>
          </div>
        </div>
      </section>
      <footer>
        <a
          href="https://github.com/CozmaRares/odin-project-rock-paper-scissors"
          target="_blank"
          rel="noopener noreferrer"
        >
          Github <i class="fa-brands fa-github"></i>
        </a>
      </footer>
    </main>
    <audio style="display: none"></audio>
    <div id="overlay">
      <div class="overlay-content">
        <h1>Welcome to &nbsp;<span>Fight of SHITPOSTS</span></h1>
        <div class="rules">
          <p>Rules:</p>
          <span>
            <i class="fa-solid fa-circle-dot"></i> <i>SUS</i> eats rabbit
          </span>
          <span>
            <i class="fa-solid fa-circle-dot"></i> Weird rock is stronger than a
            spaceman</span
          >
          <span>
            <i class="fa-solid fa-circle-dot"></i> Rabbit sits on stone
          </span>
          <span>
            <i class="fa-solid fa-circle-dot"></i> 10% chance to trigger a
            special event
          </span>
        </div>
        <p>Click anywhere to close, click title to open again</p>
      </div>
    </div>
  </body>
  <script>
    function closeOverlay() {
      document.getElementById("overlay").style.display = "none";
      document.removeEventListener("click", closeOverlay);
    }

    function openOverlay() {
      document.getElementById("overlay").style.display = "flex";

      // add the event listener on the next tick of the event loop
      // so that it doesn't immediately close
      setTimeout(() => document.addEventListener("click", closeOverlay), 1);
    }

    document.addEventListener("click", closeOverlay);
    document.getElementById("title").addEventListener("click", openOverlay);
  </script>
</html>
